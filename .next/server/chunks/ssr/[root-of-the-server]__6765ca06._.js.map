{"version":3,"sources":["../../../../src/lib/vesting.ts","../../../../node_modules/lucide-react/src/icons/award.ts","../../../../src/components/ui/badge.tsx","../../../../src/components/ui/table.tsx","../../../../node_modules/lucide-react/src/icons/plus.ts","../../../../src/components/vesting-progress-bar.tsx/__nextjs-internal-proxy.mjs","../../../../src/app/%28admin%29/options/page.tsx"],"sourcesContent":["import { prisma } from \"./prisma\";\nimport { generateVestingPeriods, type VestingPeriodData } from \"./calculations\";\nimport type { OptionGrant, VestingSchedule, VestingPeriod } from \"@prisma/client\";\n\n/**\n * Creates VestingPeriod records in the database for an option grant.\n * Should be called when creating or updating a grant's vesting schedule.\n */\nexport async function createVestingPeriodRecords(\n  vestingScheduleId: string,\n  originalQuantity: number,\n  schedule: {\n    vestingStartDate: Date;\n    cliffMonths: number;\n    cliffPercentage: number;\n    totalPeriods: number;\n    periodUnit: \"MONTHLY\" | \"QUARTERLY\" | \"ANNUALLY\";\n  },\n  terminationDate?: Date | null\n): Promise<VestingPeriod[]> {\n  // Delete existing periods\n  await prisma.vestingPeriod.deleteMany({\n    where: { vestingScheduleId },\n  });\n\n  // Generate new periods\n  const periods = generateVestingPeriods(\n    originalQuantity,\n    schedule,\n    terminationDate\n  );\n\n  // Create records\n  const created = await prisma.vestingPeriod.createManyAndReturn({\n    data: periods.map((p) => ({\n      vestingScheduleId,\n      periodNumber: p.periodNumber,\n      vestingDate: p.vestingDate,\n      sharesVested: p.sharesVested,\n      cumulativeVested: p.cumulativeVested,\n    })),\n  });\n\n  return created;\n}\n\n/**\n * Updates vesting periods when a grant is terminated.\n * Removes all periods after the termination date.\n */\nexport async function updateVestingForTermination(\n  optionGrantId: string,\n  terminationDate: Date\n): Promise<void> {\n  const grant = await prisma.optionGrant.findUnique({\n    where: { id: optionGrantId },\n    include: { vestingSchedule: true },\n  });\n\n  if (!grant || !grant.vestingSchedule) return;\n\n  // Regenerate periods with termination date\n  await createVestingPeriodRecords(\n    grant.vestingSchedule.id,\n    grant.originalQuantity,\n    {\n      vestingStartDate: grant.vestingSchedule.vestingStartDate,\n      cliffMonths: grant.vestingSchedule.cliffMonths,\n      cliffPercentage: Number(grant.vestingSchedule.cliffPercentage),\n      totalPeriods: grant.vestingSchedule.totalPeriods,\n      periodUnit: grant.vestingSchedule.periodUnit,\n    },\n    terminationDate\n  );\n}\n\n/**\n * Gets the vesting progress for an option grant.\n */\nexport async function getVestingProgress(\n  grantId: string,\n  asOfDate: Date = new Date()\n): Promise<{\n  totalShares: number;\n  vestedShares: number;\n  unvestedShares: number;\n  exercisedShares: number;\n  exercisableShares: number;\n  vestedPercent: number;\n  exercisedPercent: number;\n}> {\n  const grant = await prisma.optionGrant.findUnique({\n    where: { id: grantId },\n    include: {\n      vestingSchedule: {\n        include: { vestingPeriods: { orderBy: { periodNumber: \"asc\" } } },\n      },\n      exercises: {\n        where: { status: { in: [\"APPROVED\", \"COMPLETED\"] } },\n      },\n    },\n  });\n\n  if (!grant) {\n    return {\n      totalShares: 0,\n      vestedShares: 0,\n      unvestedShares: 0,\n      exercisedShares: 0,\n      exercisableShares: 0,\n      vestedPercent: 0,\n      exercisedPercent: 0,\n    };\n  }\n\n  const totalShares = grant.originalQuantity - grant.expiredQuantity;\n  const exercisedShares = grant.exercises.reduce(\n    (sum, ex) => sum + ex.sharesExercised,\n    0\n  );\n\n  // Calculate vested shares from periods\n  let vestedShares = 0;\n  if (grant.vestingSchedule) {\n    for (const period of grant.vestingSchedule.vestingPeriods) {\n      if (new Date(period.vestingDate) <= asOfDate) {\n        vestedShares = period.cumulativeVested;\n      }\n    }\n  }\n\n  const unvestedShares = totalShares - vestedShares;\n  const exercisableShares = Math.max(0, vestedShares - exercisedShares);\n\n  return {\n    totalShares,\n    vestedShares,\n    unvestedShares,\n    exercisedShares,\n    exercisableShares,\n    vestedPercent: totalShares > 0 ? vestedShares / totalShares : 0,\n    exercisedPercent: totalShares > 0 ? exercisedShares / totalShares : 0,\n  };\n}\n\n/**\n * Gets all vesting periods with their current status.\n */\nexport async function getVestingPeriodsWithStatus(\n  grantId: string,\n  asOfDate: Date = new Date()\n): Promise<\n  Array<{\n    periodNumber: number;\n    vestingDate: Date;\n    sharesVested: number;\n    cumulativeVested: number;\n    isVested: boolean;\n    isPast: boolean;\n  }>\n> {\n  const grant = await prisma.optionGrant.findUnique({\n    where: { id: grantId },\n    include: {\n      vestingSchedule: {\n        include: { vestingPeriods: { orderBy: { periodNumber: \"asc\" } } },\n      },\n    },\n  });\n\n  if (!grant?.vestingSchedule) return [];\n\n  return grant.vestingSchedule.vestingPeriods.map((period) => {\n    const vestingDate = new Date(period.vestingDate);\n    const isVested = vestingDate <= asOfDate;\n    const isPast = vestingDate < asOfDate;\n\n    return {\n      periodNumber: period.periodNumber,\n      vestingDate,\n      sharesVested: period.sharesVested,\n      cumulativeVested: period.cumulativeVested,\n      isVested,\n      isPast,\n    };\n  });\n}\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'm15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526',\n      key: '1yiouv',\n    },\n  ],\n  ['circle', { cx: '12', cy: '8', r: '6', key: '1vp47v' }],\n];\n\n/**\n * @component @name Award\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTUuNDc3IDEyLjg5IDEuNTE1IDguNTI2YS41LjUgMCAwIDEtLjgxLjQ3bC0zLjU4LTIuNjg3YTEgMSAwIDAgMC0xLjE5NyAwbC0zLjU4NiAyLjY4NmEuNS41IDAgMCAxLS44MS0uNDY5bDEuNTE0LTguNTI2IiAvPgogIDxjaXJjbGUgY3g9IjEyIiBjeT0iOCIgcj0iNiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/award\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Award = createLucideIcon('award', __iconNode);\n\nexport default Award;\n","import * as React from \"react\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\nimport { cn } from \"@/lib/utils\";\n\nconst badgeVariants = cva(\n  \"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground hover:bg-primary/80\",\n        secondary:\n          \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        destructive:\n          \"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80\",\n        outline: \"text-foreground\",\n        success:\n          \"border-transparent bg-green-100 text-green-800\",\n        warning:\n          \"border-transparent bg-yellow-100 text-yellow-800\",\n        info:\n          \"border-transparent bg-blue-100 text-blue-800\",\n        // Security types\n        common:\n          \"border-transparent bg-blue-100 text-blue-800\",\n        preferred:\n          \"border-transparent bg-green-100 text-green-800\",\n        options:\n          \"border-transparent bg-orange-100 text-orange-800\",\n        convertible:\n          \"border-transparent bg-purple-100 text-purple-800\",\n        // Status badges\n        outstanding:\n          \"border-transparent bg-green-100 text-green-800\",\n        active:\n          \"border-transparent bg-green-100 text-green-800\",\n        pending:\n          \"border-transparent bg-yellow-100 text-yellow-800\",\n        cancelled:\n          \"border-transparent bg-red-100 text-red-800\",\n        expired:\n          \"border-transparent bg-gray-100 text-gray-800\",\n        exercised:\n          \"border-transparent bg-blue-100 text-blue-800\",\n        // Option types\n        iso:\n          \"border-transparent bg-indigo-100 text-indigo-800\",\n        nso:\n          \"border-transparent bg-pink-100 text-pink-800\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n);\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  );\n}\n\nexport { Badge, badgeVariants };\n","import * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\n\nconst Table = React.forwardRef<\n  HTMLTableElement,\n  React.HTMLAttributes<HTMLTableElement>\n>(({ className, ...props }, ref) => (\n  <div className=\"relative w-full overflow-auto\">\n    <table\n      ref={ref}\n      className={cn(\"w-full caption-bottom text-sm\", className)}\n      {...props}\n    />\n  </div>\n));\nTable.displayName = \"Table\";\n\nconst TableHeader = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <thead ref={ref} className={cn(\"[&_tr]:border-b\", className)} {...props} />\n));\nTableHeader.displayName = \"TableHeader\";\n\nconst TableBody = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tbody\n    ref={ref}\n    className={cn(\"[&_tr:last-child]:border-0\", className)}\n    {...props}\n  />\n));\nTableBody.displayName = \"TableBody\";\n\nconst TableFooter = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tfoot\n    ref={ref}\n    className={cn(\n      \"border-t bg-muted/50 font-medium [&>tr]:last:border-b-0\",\n      className\n    )}\n    {...props}\n  />\n));\nTableFooter.displayName = \"TableFooter\";\n\nconst TableRow = React.forwardRef<\n  HTMLTableRowElement,\n  React.HTMLAttributes<HTMLTableRowElement>\n>(({ className, ...props }, ref) => (\n  <tr\n    ref={ref}\n    className={cn(\n      \"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted\",\n      className\n    )}\n    {...props}\n  />\n));\nTableRow.displayName = \"TableRow\";\n\nconst TableHead = React.forwardRef<\n  HTMLTableCellElement,\n  React.ThHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <th\n    ref={ref}\n    className={cn(\n      \"h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0\",\n      className\n    )}\n    {...props}\n  />\n));\nTableHead.displayName = \"TableHead\";\n\nconst TableCell = React.forwardRef<\n  HTMLTableCellElement,\n  React.TdHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <td\n    ref={ref}\n    className={cn(\"p-4 align-middle [&:has([role=checkbox])]:pr-0\", className)}\n    {...props}\n  />\n));\nTableCell.displayName = \"TableCell\";\n\nconst TableCaption = React.forwardRef<\n  HTMLTableCaptionElement,\n  React.HTMLAttributes<HTMLTableCaptionElement>\n>(({ className, ...props }, ref) => (\n  <caption\n    ref={ref}\n    className={cn(\"mt-4 text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n));\nTableCaption.displayName = \"TableCaption\";\n\nexport {\n  Table,\n  TableHeader,\n  TableBody,\n  TableFooter,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableCaption,\n};\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M5 12h14', key: '1ays0h' }],\n  ['path', { d: 'M12 5v14', key: 's699le' }],\n];\n\n/**\n * @component @name Plus\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNSAxMmgxNCIgLz4KICA8cGF0aCBkPSJNMTIgNXYxNCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/plus\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Plus = createLucideIcon('plus', __iconNode);\n\nexport default Plus;\n","// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const VestingProgressBar = registerClientReference(\n    function() { throw new Error(\"Attempted to call VestingProgressBar() from the server but VestingProgressBar is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/vesting-progress-bar.tsx\",\n    \"VestingProgressBar\",\n);\n","import { prisma } from \"@/lib/prisma\";\nimport Link from \"next/link\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from \"@/components/ui/table\";\nimport { formatCurrency, formatNumber, formatDate, formatPercent } from \"@/lib/utils\";\nimport { Plus, Award } from \"lucide-react\";\nimport { VestingProgressBar } from \"@/components/vesting-progress-bar\";\nimport { getVestingProgress } from \"@/lib/vesting\";\nimport { getVestingDescription } from \"@/lib/calculations\";\n\nasync function getOptionGrants() {\n  const company = await prisma.company.findFirst();\n  if (!company) return [];\n\n  const grants = await prisma.optionGrant.findMany({\n    where: { companyId: company.id },\n    include: {\n      stakeholder: true,\n      equityPlan: true,\n      vestingSchedule: true,\n      exercises: {\n        where: { status: { in: [\"APPROVED\", \"COMPLETED\"] } },\n      },\n    },\n    orderBy: { securityId: \"asc\" },\n  });\n\n  // Get vesting progress for each grant\n  const grantsWithProgress = await Promise.all(\n    grants.map(async (grant) => {\n      const progress = await getVestingProgress(grant.id);\n      return { ...grant, progress };\n    })\n  );\n\n  return grantsWithProgress;\n}\n\nfunction getStatusVariant(status: string) {\n  switch (status) {\n    case \"ACTIVE\":\n      return \"active\";\n    case \"PARTIALLY_EXERCISED\":\n      return \"exercised\";\n    case \"FULLY_EXERCISED\":\n      return \"exercised\";\n    case \"EXPIRED\":\n      return \"expired\";\n    case \"CANCELLED\":\n    case \"TERMINATED\":\n      return \"cancelled\";\n    default:\n      return \"secondary\";\n  }\n}\n\nexport default async function OptionsPage() {\n  const grants = await getOptionGrants();\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-3xl font-bold tracking-tight\">Option Grants</h1>\n          <p className=\"text-muted-foreground\">\n            Manage stock option grants and vesting schedules\n          </p>\n        </div>\n        <Link href=\"/options/new\">\n          <Button>\n            <Plus className=\"mr-2 h-4 w-4\" />\n            Grant Options\n          </Button>\n        </Link>\n      </div>\n\n      {/* Table */}\n      {grants.length === 0 ? (\n        <div className=\"flex flex-col items-center justify-center py-12 text-center\">\n          <Award className=\"h-12 w-12 text-muted-foreground mb-4\" />\n          <h3 className=\"text-lg font-medium\">No option grants yet</h3>\n          <p className=\"text-muted-foreground mb-4\">\n            Grant your first stock options to get started.\n          </p>\n          <Link href=\"/options/new\">\n            <Button>\n              <Plus className=\"mr-2 h-4 w-4\" />\n              Grant Options\n            </Button>\n          </Link>\n        </div>\n      ) : (\n        <div className=\"rounded-md border\">\n          <Table>\n            <TableHeader>\n              <TableRow>\n                <TableHead>Security ID</TableHead>\n                <TableHead>Optionholder</TableHead>\n                <TableHead>Status</TableHead>\n                <TableHead className=\"text-right\">Original</TableHead>\n                <TableHead className=\"text-right\">Exercised</TableHead>\n                <TableHead>Vesting Progress</TableHead>\n                <TableHead className=\"text-right\">Exercise Price</TableHead>\n                <TableHead>Type</TableHead>\n                <TableHead>Grant Date</TableHead>\n                <TableHead>Schedule</TableHead>\n              </TableRow>\n            </TableHeader>\n            <TableBody>\n              {grants.map((grant) => {\n                const exercised = grant.progress.exercisedShares;\n                const vestingDesc = grant.vestingSchedule\n                  ? getVestingDescription({\n                      cliffMonths: grant.vestingSchedule.cliffMonths,\n                      cliffPercentage: grant.vestingSchedule.cliffPercentage,\n                      totalPeriods: grant.vestingSchedule.totalPeriods,\n                      periodUnit: grant.vestingSchedule.periodUnit,\n                    })\n                  : \"No schedule\";\n\n                return (\n                  <TableRow key={grant.id}>\n                    <TableCell>\n                      <Link\n                        href={`/options/${grant.id}`}\n                        className=\"font-medium text-blue-600 hover:underline\"\n                      >\n                        {grant.securityId}\n                      </Link>\n                    </TableCell>\n                    <TableCell>\n                      <div>\n                        <div className=\"font-medium\">{grant.stakeholder.name}</div>\n                        <div className=\"text-sm text-muted-foreground\">\n                          {grant.stakeholder.email}\n                        </div>\n                      </div>\n                    </TableCell>\n                    <TableCell>\n                      <Badge variant={getStatusVariant(grant.status)}>\n                        {grant.status.toLowerCase().replace(\"_\", \" \")}\n                      </Badge>\n                    </TableCell>\n                    <TableCell className=\"text-right font-mono\">\n                      {formatNumber(grant.originalQuantity)}\n                    </TableCell>\n                    <TableCell className=\"text-right font-mono\">\n                      {formatNumber(exercised)}\n                    </TableCell>\n                    <TableCell className=\"min-w-[200px]\">\n                      <VestingProgressBar\n                        total={grant.progress.totalShares}\n                        vested={grant.progress.vestedShares}\n                        exercised={grant.progress.exercisedShares}\n                        showLegend={false}\n                      />\n                      <div className=\"text-xs text-muted-foreground mt-1\">\n                        {formatPercent(grant.progress.vestedPercent)} vested\n                      </div>\n                    </TableCell>\n                    <TableCell className=\"text-right font-mono\">\n                      {formatCurrency(Number(grant.exercisePrice))}\n                    </TableCell>\n                    <TableCell>\n                      <Badge variant={grant.type === \"ISO\" ? \"iso\" : \"nso\"}>\n                        {grant.type}\n                      </Badge>\n                    </TableCell>\n                    <TableCell>{formatDate(grant.grantDate)}</TableCell>\n                    <TableCell>\n                      <span className=\"text-sm text-muted-foreground truncate max-w-[150px] block\">\n                        {grant.vestingSchedule\n                          ? `${grant.vestingSchedule.totalPeriods / 12}yr / ${grant.vestingSchedule.cliffMonths}mo cliff`\n                          : \"No schedule\"}\n                      </span>\n                    </TableCell>\n                  </TableRow>\n                );\n              })}\n            </TableBody>\n          </Table>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","ignoreList":[1,4,5]}