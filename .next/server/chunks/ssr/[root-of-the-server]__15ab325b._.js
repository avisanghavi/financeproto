module.exports=[93695,(a,b,c)=>{b.exports=a.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},50645,a=>{a.n(a.i(27572))},17537,a=>{a.n(a.i(3363))},13718,a=>{a.n(a.i(85523))},18198,a=>{a.n(a.i(45518))},62212,a=>{a.n(a.i(66114))},94220,a=>{a.n(a.i(54479))},45645,a=>{a.n(a.i(58476))},94084,a=>{a.n(a.i(92171))},9283,a=>{"use strict";let b=(0,a.i(1269).default)("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);a.s(["Award",()=>b],9283)},19637,a=>{"use strict";var b=a.i(7997),c=a.i(96942),d=a.i(39138);let e=(0,c.cva)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-100 text-green-800",warning:"border-transparent bg-yellow-100 text-yellow-800",info:"border-transparent bg-blue-100 text-blue-800",common:"border-transparent bg-blue-100 text-blue-800",preferred:"border-transparent bg-green-100 text-green-800",options:"border-transparent bg-orange-100 text-orange-800",convertible:"border-transparent bg-purple-100 text-purple-800",outstanding:"border-transparent bg-green-100 text-green-800",active:"border-transparent bg-green-100 text-green-800",pending:"border-transparent bg-yellow-100 text-yellow-800",cancelled:"border-transparent bg-red-100 text-red-800",expired:"border-transparent bg-gray-100 text-gray-800",exercised:"border-transparent bg-blue-100 text-blue-800",iso:"border-transparent bg-indigo-100 text-indigo-800",nso:"border-transparent bg-pink-100 text-pink-800"}},defaultVariants:{variant:"default"}});function f({className:a,variant:c,...f}){return(0,b.jsx)("div",{className:(0,d.cn)(e({variant:c}),a),...f})}a.s(["Badge",()=>f])},84674,a=>{"use strict";let b=(0,a.i(1269).default)("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);a.s(["FileText",()=>b],84674)},96921,a=>{"use strict";let b=(0,a.i(1269).default)("landmark",[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]]);a.s(["Landmark",()=>b],96921)},70683,a=>{"use strict";let b=(0,a.i(1269).default)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);a.s(["Edit",()=>b],70683)},40020,a=>{"use strict";let b=(0,a.i(1269).default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);a.s(["User",()=>b],40020)},58555,a=>a.a(async(b,c)=>{try{var d=a.i(7997),e=a.i(66518);a.i(70396);var f=a.i(73727),g=a.i(95936),h=a.i(38904),i=a.i(19637),j=a.i(35330),k=a.i(39138),l=a.i(13743),m=a.i(70683),n=a.i(40020),o=a.i(84674),p=a.i(9283),q=a.i(96921),r=b([e]);async function s(a){return e.prisma.stakeholder.findUnique({where:{id:a},include:{company:!0,shareCertificates:{include:{shareClass:!0},orderBy:{issueDate:"desc"}},optionGrants:{include:{equityPlan:!0},orderBy:{grantDate:"desc"}},convertibles:{orderBy:{issueDate:"desc"}}}})}async function t({params:a}){let{id:b}=await a,c=await s(b);c||(0,f.notFound)();let e=c.shareCertificates.filter(a=>"OUTSTANDING"===a.status).reduce((a,b)=>a+b.quantity,0),r=c.optionGrants.filter(a=>["ACTIVE","PARTIALLY_EXERCISED"].includes(a.status)).reduce((a,b)=>a+b.originalQuantity,0),t=c.convertibles.filter(a=>"OUTSTANDING"===a.status).reduce((a,b)=>a+Number(b.principal),0);return(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex items-center gap-4",children:[(0,d.jsx)(g.default,{href:"/stakeholders",children:(0,d.jsx)(h.Button,{variant:"ghost",size:"icon",children:(0,d.jsx)(l.ArrowLeft,{className:"h-4 w-4"})})}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:c.name}),(0,d.jsx)(i.Badge,{variant:function(a){switch(a){case"FOUNDER":return"common";case"INVESTOR":return"preferred";case"EMPLOYEE":return"options";case"ADVISOR":return"convertible";default:return"secondary"}}(c.type),children:c.type.toLowerCase()})]}),(0,d.jsx)("p",{className:"text-muted-foreground",children:c.email})]})]}),(0,d.jsx)(g.default,{href:`/stakeholders/${b}/edit`,children:(0,d.jsxs)(h.Button,{variant:"outline",children:[(0,d.jsx)(m.Edit,{className:"mr-2 h-4 w-4"}),"Edit"]})})]}),(0,d.jsxs)("div",{className:"grid gap-4 md:grid-cols-4",children:[(0,d.jsxs)(j.Card,{children:[(0,d.jsxs)(j.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,d.jsx)(j.CardTitle,{className:"text-sm font-medium",children:"Title"}),(0,d.jsx)(n.User,{className:"h-4 w-4 text-muted-foreground"})]}),(0,d.jsx)(j.CardContent,{children:(0,d.jsx)("div",{className:"text-2xl font-bold",children:c.title||"—"})})]}),(0,d.jsxs)(j.Card,{children:[(0,d.jsxs)(j.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,d.jsx)(j.CardTitle,{className:"text-sm font-medium",children:"Total Shares"}),(0,d.jsx)(o.FileText,{className:"h-4 w-4 text-muted-foreground"})]}),(0,d.jsxs)(j.CardContent,{children:[(0,d.jsx)("div",{className:"text-2xl font-bold",children:(0,k.formatNumber)(e)}),(0,d.jsxs)("p",{className:"text-xs text-muted-foreground",children:[c.shareCertificates.filter(a=>"OUTSTANDING"===a.status).length," certificates"]})]})]}),(0,d.jsxs)(j.Card,{children:[(0,d.jsxs)(j.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,d.jsx)(j.CardTitle,{className:"text-sm font-medium",children:"Total Options"}),(0,d.jsx)(p.Award,{className:"h-4 w-4 text-muted-foreground"})]}),(0,d.jsxs)(j.CardContent,{children:[(0,d.jsx)("div",{className:"text-2xl font-bold",children:(0,k.formatNumber)(r)}),(0,d.jsxs)("p",{className:"text-xs text-muted-foreground",children:[c.optionGrants.filter(a=>["ACTIVE","PARTIALLY_EXERCISED"].includes(a.status)).length," grants"]})]})]}),(0,d.jsxs)(j.Card,{children:[(0,d.jsxs)(j.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,d.jsx)(j.CardTitle,{className:"text-sm font-medium",children:"Convertibles"}),(0,d.jsx)(q.Landmark,{className:"h-4 w-4 text-muted-foreground"})]}),(0,d.jsxs)(j.CardContent,{children:[(0,d.jsx)("div",{className:"text-2xl font-bold",children:(0,k.formatCurrency)(t)}),(0,d.jsxs)("p",{className:"text-xs text-muted-foreground",children:[c.convertibles.filter(a=>"OUTSTANDING"===a.status).length," instruments"]})]})]})]}),c.shareCertificates.length>0&&(0,d.jsxs)(j.Card,{children:[(0,d.jsx)(j.CardHeader,{children:(0,d.jsx)(j.CardTitle,{children:"Share Certificates"})}),(0,d.jsx)(j.CardContent,{children:(0,d.jsx)("div",{className:"space-y-3",children:c.shareCertificates.map(a=>(0,d.jsxs)(g.default,{href:`/certificates/${a.id}`,className:"flex items-center justify-between p-3 border rounded-lg hover:bg-muted/50",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"font-medium",children:a.securityId}),(0,d.jsxs)("div",{className:"text-sm text-muted-foreground",children:[a.shareClass.name," • ",(0,k.formatDate)(a.issueDate)]})]}),(0,d.jsxs)("div",{className:"text-right",children:[(0,d.jsxs)("div",{className:"font-medium",children:[(0,k.formatNumber)(a.quantity)," shares"]}),(0,d.jsx)(i.Badge,{variant:"OUTSTANDING"===a.status?"default":"secondary",children:a.status.toLowerCase()})]})]},a.id))})})]}),c.optionGrants.length>0&&(0,d.jsxs)(j.Card,{children:[(0,d.jsx)(j.CardHeader,{children:(0,d.jsx)(j.CardTitle,{children:"Option Grants"})}),(0,d.jsx)(j.CardContent,{children:(0,d.jsx)("div",{className:"space-y-3",children:c.optionGrants.map(a=>(0,d.jsxs)(g.default,{href:`/options/${a.id}`,className:"flex items-center justify-between p-3 border rounded-lg hover:bg-muted/50",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"font-medium",children:a.securityId}),(0,d.jsxs)("div",{className:"text-sm text-muted-foreground",children:[a.equityPlan.name," • ",a.type," • ",(0,k.formatDate)(a.grantDate)]})]}),(0,d.jsxs)("div",{className:"text-right",children:[(0,d.jsxs)("div",{className:"font-medium",children:[(0,k.formatNumber)(a.originalQuantity)," options"]}),(0,d.jsxs)("div",{className:"text-sm text-muted-foreground",children:["@ ",(0,k.formatCurrency)(Number(a.exercisePrice))]})]})]},a.id))})})]}),c.convertibles.length>0&&(0,d.jsxs)(j.Card,{children:[(0,d.jsx)(j.CardHeader,{children:(0,d.jsx)(j.CardTitle,{children:"SAFEs & Convertibles"})}),(0,d.jsx)(j.CardContent,{children:(0,d.jsx)("div",{className:"space-y-3",children:c.convertibles.map(a=>(0,d.jsxs)(g.default,{href:`/convertibles/${a.id}`,className:"flex items-center justify-between p-3 border rounded-lg hover:bg-muted/50",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"font-medium",children:a.securityId}),(0,d.jsxs)("div",{className:"text-sm text-muted-foreground",children:[a.type," • ",(0,k.formatDate)(a.issueDate)]})]}),(0,d.jsxs)("div",{className:"text-right",children:[(0,d.jsx)("div",{className:"font-medium",children:(0,k.formatCurrency)(Number(a.principal))}),a.valuationCap&&(0,d.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Cap: ",(0,k.formatCurrency)(Number(a.valuationCap))]})]})]},a.id))})})]})]})}[e]=r.then?(await r)():r,a.s(["default",()=>t,"dynamic",0,"force-dynamic"]),c()}catch(a){c(a)}},!1)];

//# sourceMappingURL=%5Broot-of-the-server%5D__15ab325b._.js.map