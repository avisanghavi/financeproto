module.exports=[50227,(a,b,c)=>{b.exports=a.x("node:path",()=>require("node:path"))},57764,(a,b,c)=>{b.exports=a.x("node:url",()=>require("node:url"))},84941,(a,b,c)=>{b.exports=a.x("@prisma/client-2c3a283f134fdcb6/runtime/client",()=>require("@prisma/client-2c3a283f134fdcb6/runtime/client"))},23862,a=>a.a(async(b,c)=>{try{let b=await a.y("pg-587764f78a6c7a9c");a.n(b),c()}catch(a){c(a)}},!0),93695,(a,b,c)=>{b.exports=a.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},50645,a=>{a.n(a.i(27572))},17537,a=>{a.n(a.i(3363))},13718,a=>{a.n(a.i(85523))},18198,a=>{a.n(a.i(45518))},62212,a=>{a.n(a.i(66114))},94220,a=>{a.n(a.i(54479))},45645,a=>{a.n(a.i(58476))},94084,a=>{a.n(a.i(92171))},9283,a=>{"use strict";let b=(0,a.i(1269).default)("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);a.s(["Award",()=>b],9283)},36361,a=>{"use strict";let b=(0,a.i(1269).default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);a.s(["TrendingUp",()=>b],36361)},11070,a=>{"use strict";let b=(0,a.i(1269).default)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);a.s(["DollarSign",()=>b],11070)},58771,a=>{"use strict";a.s(["CapTableTabs",()=>b]);let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call CapTableTabs() from the server but CapTableTabs is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/app/(admin)/cap-table/cap-table-tabs.tsx <module evaluation>","CapTableTabs")},25199,a=>{"use strict";a.s(["CapTableTabs",()=>b]);let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call CapTableTabs() from the server but CapTableTabs is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/app/(admin)/cap-table/cap-table-tabs.tsx","CapTableTabs")},19332,a=>{"use strict";a.i(58771);var b=a.i(25199);a.n(b)},18427,a=>a.a(async(b,c)=>{try{var d=a.i(7997),e=a.i(66518),f=a.i(35330),g=a.i(19311),h=a.i(39138),i=a.i(19332),j=a.i(36361),k=a.i(11070),l=a.i(9283),m=b([e,g]);async function n(){let a=await e.prisma.company.findFirst();if(!a)return null;let[b,c,d]=await Promise.all([(0,g.getCapTableMetrics)(a.id),(0,g.getOwnershipByStakeholder)(a.id),(0,g.getOwnershipByShareClass)(a.id)]);return{company:a,metrics:b,stakeholderOwnership:c,classOwnership:d}}async function o(){let a=await n();if(!a)return(0,d.jsx)("div",{className:"flex flex-col items-center justify-center min-h-[400px]",children:(0,d.jsx)("p",{className:"text-muted-foreground",children:"No company found. Please run the database seed."})});let{company:b,metrics:c,stakeholderOwnership:e,classOwnership:g}=a,m=e.filter(a=>a.fullyDilutedShares>0).map(a=>({name:a.stakeholderName,value:a.fullyDilutedShares,percent:a.fullyDilutedPercent})),o=g.filter(a=>a.outstandingShares>0).map(a=>({name:a.shareClassName,value:a.outstandingShares,percent:a.outstandingPercent,color:"COMMON"===a.shareClassType?"#3b82f6":"#22c55e"}));return c.fullyDilutedBreakdown.allOutstandingOptions>0&&o.push({name:"Outstanding Options",value:c.fullyDilutedBreakdown.allOutstandingOptions,percent:c.fullyDilutedBreakdown.allOutstandingOptions/c.fullyDilutedShares,color:"#f97316"}),c.fullyDilutedBreakdown.availableOptionPool>0&&o.push({name:"Available Pool",value:c.fullyDilutedBreakdown.availableOptionPool,percent:c.fullyDilutedBreakdown.availableOptionPool/c.fullyDilutedShares,color:"#94a3b8"}),c.fullyDilutedBreakdown.convertibleShares>0&&o.push({name:"Convertibles",value:c.fullyDilutedBreakdown.convertibleShares,percent:c.fullyDilutedBreakdown.convertibleShares/c.fullyDilutedShares,color:"#a855f7"}),(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Cap Table"}),(0,d.jsxs)("p",{className:"text-muted-foreground",children:[b.name," - Capitalization Overview"]})]}),(0,d.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,d.jsxs)(f.Card,{children:[(0,d.jsxs)(f.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,d.jsx)(f.CardTitle,{className:"text-sm font-medium",children:"Fully Diluted Shares"}),(0,d.jsx)(j.TrendingUp,{className:"h-4 w-4 text-muted-foreground"})]}),(0,d.jsxs)(f.CardContent,{children:[(0,d.jsx)("div",{className:"text-2xl font-bold",children:(0,h.formatNumber)(c.fullyDilutedShares)}),(0,d.jsx)("p",{className:"text-xs text-muted-foreground",children:"Including all options and convertibles"})]})]}),(0,d.jsxs)(f.Card,{children:[(0,d.jsxs)(f.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,d.jsx)(f.CardTitle,{className:"text-sm font-medium",children:"Amount Raised"}),(0,d.jsx)(k.DollarSign,{className:"h-4 w-4 text-muted-foreground"})]}),(0,d.jsxs)(f.CardContent,{children:[(0,d.jsx)("div",{className:"text-2xl font-bold",children:(0,h.formatCurrency)(c.amountRaised)}),(0,d.jsx)("p",{className:"text-xs text-muted-foreground",children:"From equity and convertible instruments"})]})]}),(0,d.jsxs)(f.Card,{children:[(0,d.jsxs)(f.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,d.jsx)(f.CardTitle,{className:"text-sm font-medium",children:"Available Option Pool"}),(0,d.jsx)(l.Award,{className:"h-4 w-4 text-muted-foreground"})]}),(0,d.jsxs)(f.CardContent,{children:[(0,d.jsx)("div",{className:"text-2xl font-bold",children:(0,h.formatNumber)(c.availableShares)}),(0,d.jsxs)("p",{className:"text-xs text-muted-foreground",children:[(0,h.formatPercent)(c.availableShares/c.fullyDilutedShares)," of fully diluted"]})]})]})]}),(0,d.jsx)(i.CapTableTabs,{stakeholderOwnership:e,classOwnership:g,stakeholderChartData:m,classChartData:o,fullyDilutedShares:c.fullyDilutedShares})]})}[e,g]=m.then?(await m)():m,a.s(["default",()=>o]),c()}catch(a){c(a)}},!1),16005,a=>{a.v(b=>Promise.all(["server/chunks/ssr/[externals]_node:buffer_00e2e67a._.js"].map(b=>a.l(b))).then(()=>b(51615)))},18707,a=>{a.v(b=>Promise.all(["server/chunks/ssr/2e4a4_@prisma_client_runtime_query_compiler_fast_bg_postgresql_mjs_35c4194d._.js"].map(b=>a.l(b))).then(()=>b(7142)))},80599,a=>{a.v(b=>Promise.all(["server/chunks/ssr/9c9c5_client_runtime_query_compiler_fast_bg_postgresql_wasm-base64_mjs_9e69af0b._.js"].map(b=>a.l(b))).then(()=>b(17734)))}];

//# sourceMappingURL=%5Broot-of-the-server%5D__babb4df7._.js.map