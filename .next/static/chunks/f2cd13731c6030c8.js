(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,25913,e=>{"use strict";var r=e.i(7670);let s=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,a=r.clsx;e.s(["cva",0,(e,r)=>t=>{var i;if((null==r?void 0:r.variants)==null)return a(e,null==t?void 0:t.class,null==t?void 0:t.className);let{variants:l,defaultVariants:d}=r,n=Object.keys(l).map(e=>{let r=null==t?void 0:t[e],a=null==d?void 0:d[e];if(null===r)return null;let i=s(r)||s(a);return l[e][i]}),c=t&&Object.entries(t).reduce((e,r)=>{let[s,a]=r;return void 0===a||(e[s]=a),e},{});return a(e,n,null==r||null==(i=r.compoundVariants)?void 0:i.reduce((e,r)=>{let{class:s,className:a,...t}=r;return Object.entries(t).every(e=>{let[r,s]=e;return Array.isArray(s)?s.includes({...d,...c}[r]):({...d,...c})[r]===s})?[...e,s,a]:e},[]),null==t?void 0:t.class,null==t?void 0:t.className)}])},15288,e=>{"use strict";var r=e.i(43476),s=e.i(71645),a=e.i(75157);let t=s.forwardRef(({className:e,...s},t)=>(0,r.jsx)("div",{ref:t,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...s}));t.displayName="Card";let i=s.forwardRef(({className:e,...s},t)=>(0,r.jsx)("div",{ref:t,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",e),...s}));i.displayName="CardHeader";let l=s.forwardRef(({className:e,...s},t)=>(0,r.jsx)("h3",{ref:t,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",e),...s}));l.displayName="CardTitle";let d=s.forwardRef(({className:e,...s},t)=>(0,r.jsx)("p",{ref:t,className:(0,a.cn)("text-sm text-muted-foreground",e),...s}));d.displayName="CardDescription";let n=s.forwardRef(({className:e,...s},t)=>(0,r.jsx)("div",{ref:t,className:(0,a.cn)("p-6 pt-0",e),...s}));n.displayName="CardContent",s.forwardRef(({className:e,...s},t)=>(0,r.jsx)("div",{ref:t,className:(0,a.cn)("flex items-center p-6 pt-0",e),...s})).displayName="CardFooter",e.s(["Card",()=>t,"CardContent",()=>n,"CardDescription",()=>d,"CardHeader",()=>i,"CardTitle",()=>l])},19455,e=>{"use strict";var r=e.i(43476),s=e.i(71645),a=e.i(25913),t=e.i(75157);let i=(0,a.cva)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=s.forwardRef(({className:e,variant:s,size:a,asChild:l=!1,...d},n)=>(0,r.jsx)("button",{className:(0,t.cn)(i({variant:s,size:a,className:e})),ref:n,...d}));l.displayName="Button",e.s(["Button",()=>l])},93479,10204,e=>{"use strict";var r=e.i(43476),s=e.i(71645),a=e.i(75157);let t=s.forwardRef(({className:e,type:s,...t},i)=>(0,r.jsx)("input",{type:s,className:(0,a.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:i,...t}));t.displayName="Input",e.s(["Input",()=>t],93479);let i=(0,e.i(25913).cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),l=s.forwardRef(({className:e,...s},t)=>(0,r.jsx)("label",{ref:t,className:(0,a.cn)(i(),e),...s}));l.displayName="Label",e.s(["Label",()=>l],10204)},95187,(e,r,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a={callServer:function(){return i.callServer},createServerReference:function(){return d.createServerReference},findSourceMapURL:function(){return l.findSourceMapURL}};for(var t in a)Object.defineProperty(s,t,{enumerable:!0,get:a[t]});let i=e.r(32120),l=e.r(92245),d=e.r(35326)},64659,e=>{"use strict";let r=(0,e.i(75254).default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);e.s(["ChevronDown",()=>r],64659)},67489,e=>{"use strict";var r=e.i(43476),s=e.i(71645),a=e.i(75157),t=e.i(64659);let i=s.forwardRef(({className:e,children:s,...i},l)=>(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("select",{className:(0,a.cn)("flex h-10 w-full appearance-none rounded-md border border-input bg-background px-3 py-2 pr-8 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:l,...i,children:s}),(0,r.jsx)(t.ChevronDown,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 opacity-50 pointer-events-none"})]}));i.displayName="Select",e.s(["Select",()=>i])},63614,e=>{"use strict";var r=e.i(43476),s=e.i(71645),a=e.i(19455),t=e.i(93479),i=e.i(10204),l=e.i(67489),d=e.i(15288),n=e.i(95187);let c=(0,n.createServerReference)("6093ad5c5e46858a83c3fc7f610335cdcc40c3e712",n.callServer,void 0,n.findSourceMapURL,"createCertificate"),o=(0,n.createServerReference)("70431018d6fb193461e63524788a3220b5da11ca4b",n.callServer,void 0,n.findSourceMapURL,"updateCertificate");var u=e.i(84614),h=e.i(78583),f=e.i(7486);function m({stakeholders:e,shareClasses:n,certificate:m}){let x=!!m,p=x?o.bind(null,m.id):c,[v,j,b]=(0,s.useActionState)(p,{errors:{}}),g=e=>e?new Date(e).toISOString().split("T")[0]:"";return(0,r.jsxs)("form",{action:j,className:"space-y-6",children:[v.errors?._form&&(0,r.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:v.errors._form.join(", ")}),(0,r.jsxs)(d.Card,{children:[(0,r.jsx)(d.CardHeader,{children:(0,r.jsxs)(d.CardTitle,{className:"flex items-center gap-2",children:[(0,r.jsx)(u.User,{className:"h-5 w-5"}),"Shareholder"]})}),(0,r.jsxs)(d.CardContent,{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(i.Label,{htmlFor:"stakeholderId",children:"Stakeholder *"}),(0,r.jsxs)(l.Select,{id:"stakeholderId",name:"stakeholderId",defaultValue:m?.stakeholderId||"",required:!0,children:[(0,r.jsx)("option",{value:"",children:"Select a stakeholder..."}),e.map(e=>(0,r.jsxs)("option",{value:e.id,children:[e.name," (",e.email,")"]},e.id))]}),v.errors?.stakeholderId&&(0,r.jsx)("p",{className:"text-sm text-red-500 mt-1",children:v.errors.stakeholderId.join(", ")})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(i.Label,{htmlFor:"status",children:"Status"}),(0,r.jsxs)(l.Select,{id:"status",name:"status",defaultValue:m?.status||"OUTSTANDING",children:[(0,r.jsx)("option",{value:"OUTSTANDING",children:"Outstanding"}),(0,r.jsx)("option",{value:"CANCELLED",children:"Cancelled"}),(0,r.jsx)("option",{value:"TRANSFERRED",children:"Transferred"}),(0,r.jsx)("option",{value:"REPURCHASED",children:"Repurchased"})]})]})]})]}),(0,r.jsxs)(d.Card,{children:[(0,r.jsx)(d.CardHeader,{children:(0,r.jsxs)(d.CardTitle,{className:"flex items-center gap-2",children:[(0,r.jsx)(h.FileText,{className:"h-5 w-5"}),"Certificate Details"]})}),(0,r.jsxs)(d.CardContent,{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(i.Label,{htmlFor:"shareClassId",children:"Share Class *"}),(0,r.jsxs)(l.Select,{id:"shareClassId",name:"shareClassId",defaultValue:m?.shareClassId||"",required:!0,children:[(0,r.jsx)("option",{value:"",children:"Select a share class..."}),n.map(e=>(0,r.jsxs)("option",{value:e.id,children:[e.name," (",e.type,")"]},e.id))]}),v.errors?.shareClassId&&(0,r.jsx)("p",{className:"text-sm text-red-500 mt-1",children:v.errors.shareClassId.join(", ")})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(i.Label,{htmlFor:"quantity",children:"Quantity *"}),(0,r.jsx)(t.Input,{id:"quantity",name:"quantity",type:"number",min:"1",step:"1",defaultValue:m?.quantity||"",placeholder:"1,000,000",required:!0}),v.errors?.quantity&&(0,r.jsx)("p",{className:"text-sm text-red-500 mt-1",children:v.errors.quantity.join(", ")})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(i.Label,{htmlFor:"pricePerShare",children:"Price per Share *"}),(0,r.jsx)(t.Input,{id:"pricePerShare",name:"pricePerShare",type:"number",min:"0",step:"0.0001",defaultValue:m?.pricePerShare?.toString()||"",placeholder:"0.0001",required:!0}),v.errors?.pricePerShare&&(0,r.jsx)("p",{className:"text-sm text-red-500 mt-1",children:v.errors.pricePerShare.join(", ")})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(i.Label,{htmlFor:"cashPaid",children:"Cash Paid *"}),(0,r.jsx)(t.Input,{id:"cashPaid",name:"cashPaid",type:"number",min:"0",step:"0.01",defaultValue:m?.cashPaid?.toString()||"",placeholder:"100.00",required:!0}),v.errors?.cashPaid&&(0,r.jsx)("p",{className:"text-sm text-red-500 mt-1",children:v.errors.cashPaid.join(", ")})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(i.Label,{htmlFor:"costBasis",children:"Cost Basis"}),(0,r.jsx)(t.Input,{id:"costBasis",name:"costBasis",type:"number",min:"0",step:"0.01",defaultValue:m?.costBasis?.toString()||"",placeholder:"Defaults to cash paid"}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Leave blank to use cash paid"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(i.Label,{htmlFor:"acquisitionDate",children:"Acquisition Date *"}),(0,r.jsx)(t.Input,{id:"acquisitionDate",name:"acquisitionDate",type:"date",defaultValue:g(m?.acquisitionDate),required:!0}),v.errors?.acquisitionDate&&(0,r.jsx)("p",{className:"text-sm text-red-500 mt-1",children:v.errors.acquisitionDate.join(", ")})]})]})]})]}),(0,r.jsxs)(d.Card,{children:[(0,r.jsx)(d.CardHeader,{children:(0,r.jsxs)(d.CardTitle,{className:"flex items-center gap-2",children:[(0,r.jsx)(f.Building2,{className:"h-5 w-5"}),"Issuer Information"]})}),(0,r.jsx)(d.CardContent,{className:"space-y-4",children:(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(i.Label,{htmlFor:"issueDate",children:"Issue Date"}),(0,r.jsx)(t.Input,{id:"issueDate",name:"issueDate",type:"date",defaultValue:g(m?.issueDate)}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Defaults to today"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(i.Label,{htmlFor:"originalIssueDate",children:"Original Issue Date"}),(0,r.jsx)(t.Input,{id:"originalIssueDate",name:"originalIssueDate",type:"date",defaultValue:g(m?.originalIssueDate)}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"If different from issue date"})]})]})})]}),(0,r.jsxs)("div",{className:"flex justify-end gap-4",children:[(0,r.jsx)(a.Button,{type:"button",variant:"outline",onClick:()=>history.back(),children:"Cancel"}),(0,r.jsx)(a.Button,{type:"submit",disabled:b,children:b?x?"Saving...":"Creating...":x?"Save Changes":"Issue Certificate"})]})]})}e.s(["CertificateForm",()=>m],63614)}]);